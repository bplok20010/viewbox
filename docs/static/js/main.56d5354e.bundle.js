"use strict";(self.webpackChunkreact_typescript=self.webpackChunkreact_typescript||[]).push([[179],{465:(t,n,i)=>{i.d(n,{Z:()=>a});var e=i(537),r=i.n(e),s=i(645),o=i.n(s)()(r());o.push([t.id,".App {\n  font-family: sans-serif;\n  text-align: center;\n}\n\n.container {\n  display: flex;\n  flex-direction: row;\n}\n\n.viewbox {\n  position: relative;\n  width: 600px;\n  height: 600px;\n  margin: 50px auto;\n  background-color: #f1f1f1;\n}\n","",{version:3,sources:["webpack://./src/styles.css"],names:[],mappings:"AAAA;EACE,uBAAuB;EACvB,kBAAkB;AACpB;;AAEA;EACE,aAAa;EACb,mBAAmB;AACrB;;AAEA;EACE,kBAAkB;EAClB,YAAY;EACZ,aAAa;EACb,iBAAiB;EACjB,yBAAyB;AAC3B",sourcesContent:[".App {\n  font-family: sans-serif;\n  text-align: center;\n}\n\n.container {\n  display: flex;\n  flex-direction: row;\n}\n\n.viewbox {\n  position: relative;\n  width: 600px;\n  height: 600px;\n  margin: 50px auto;\n  background-color: #f1f1f1;\n}\n"],sourceRoot:""}]);const a=o},874:(t,n,i)=>{var e=i(745),r=i(942),s=i(152),o=i(294),a=i(379),l=i.n(a),c=i(795),h=i.n(c),u=i(569),f=i.n(u),y=i(565),x=i.n(y),d=i(216),m=i.n(d),g=i(589),p=i.n(g),v=i(465),k={};k.styleTagTransform=p(),k.setAttributes=x(),k.insert=f().bind(null,"head"),k.domAPI=h(),k.insertStyleElement=m();l()(v.Z,k);v.Z&&v.Z.locals&&v.Z.locals;var w=i(376);const A=i.p+"static/images/c4cf532ead4844987d7f.png";var b=i(951),C=i(976),O=i(649),Y=i(790),X=400,Z=400,T=function(){function t(){var n,i,e,r,s=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(0,b.Z)(this,t),(0,O.Z)(this,"options",void 0),(0,O.Z)(this,"matrix",new Y.G9),(0,O.Z)(this,"transformOrigin",void 0),(0,O.Z)(this,"transform",{scale:1,rotation:0,scaleX:1,scaleY:1,skewX:0,skewY:0,flipX:!1,flipY:!1}),(0,O.Z)(this,"width",X),(0,O.Z)(this,"height",Z),this.options=s,this.width=null!==(n=s.width)&&void 0!==n?n:X,this.height=null!==(i=s.height)&&void 0!==i?i:Z,this.x=null!==(e=s.x)&&void 0!==e?e:0,this.y=null!==(r=s.y)&&void 0!==r?r:0}return(0,C.Z)(t,[{key:"decompose",value:function(){return this.matrix.decompose()}},{key:"currentScale",get:function(){return this.transform.scale}},{key:"currentRotation",get:function(){return this.transform.rotation}},{key:"cx",get:function(){return this.transformOrigin?this.transformOrigin.x:this.width/2}},{key:"cy",get:function(){return this.transformOrigin?this.transformOrigin.y:this.height/2}},{key:"setTransformOrigin",value:function(t,n){this.transformOrigin={x:t,y:n}}},{key:"getTransformOrigin",value:function(){return{x:this.cx,y:this.cy}}},{key:"x",get:function(){return this.matrix.tx},set:function(t){var n=t-this.x;this.translate(n,0)}},{key:"y",get:function(){return this.matrix.ty},set:function(t){var n=t-this.y;this.translate(0,n)}},{key:"zoom",get:function(){return this.transform.scaleX},set:function(t){this.setZoom(t)}},{key:"getMatrix",value:function(){return this.matrix.clone()}},{key:"globalToLocal",value:function(t,n){return this.getMatrix().invert().transformPoint(t,n)}},{key:"localToGlobal",value:function(t,n){return this.matrix.transformPoint(t,n)}},{key:"translate",value:function(t,n){var i=this.globalToLocal(0,0),e=this.globalToLocal(t,n);return this.matrix.translate(e.x-i.x,e.y-i.y),this}},{key:"translateX",value:function(t){return this.translate(t,0)}},{key:"translateY",value:function(t){return this.translate(0,t)}},{key:"scale",value:function(t,n,i,e){var r=this.globalToLocal(null!=i?i:this.cx,null!=e?e:this.cy);return this.matrix.scale(t,n,r.x,r.y),this.transform.scaleX+=t,this.transform.scaleY+=n,this}},{key:"rotate",value:function(t,n,i){var e=this.globalToLocal(null!=n?n:this.cx,null!=i?i:this.cy);return this.matrix.rotate(t,e.x,e.y),this.transform.rotation+=t,this}},{key:"flipX",value:function(t,n){var i=this.globalToLocal(null!=t?t:this.cx,null!=n?n:this.cy);return this.matrix.scale(-1,1,i.x,i.y),this.transform.flipX=!this.transform.flipX,this}},{key:"flipY",value:function(t,n){var i=this.globalToLocal(null!=t?t:this.cx,null!=n?n:this.cy);return this.matrix.scale(1,-1,i.x,i.y),this.transform.flipY=!this.transform.flipY,this}},{key:"skewX",value:function(t,n,i){var e=this.globalToLocal(null!=n?n:this.cx,null!=i?i:this.cy);return this.matrix.translate(e.x,e.y),this.matrix.skewX(t),this.matrix.translate(-e.x,-e.y),this.transform.skewX+=t,this}},{key:"skewY",value:function(t,n,i){var e=this.globalToLocal(null!=n?n:this.cx,null!=i?i:this.cy);return this.matrix.translate(e.x,e.y),this.matrix.skewY(t),this.matrix.translate(-e.x,-e.y),this.transform.skewY+=t,this}},{key:"getZoom",value:function(){return this.zoom}},{key:"setZoom",value:function(t,n,i){var e=this.transform.scaleX,r=this.transform.scaleY,s=this.globalToLocal(null!=n?n:this.cx,null!=i?i:this.cy);return this.matrix.scale(t/e,t/r,s.x,s.y),this.transform.scaleX=t,this.transform.scaleY=t,this}},{key:"setRotation",value:function(t,n,i){var e=this.globalToLocal(null!=n?n:this.cx,null!=i?i:this.cy),r=this.transform;return this.matrix.rotate(t-r.rotation,e.x,e.y),this.transform.rotation=t,this}},{key:"zoomToRect",value:function(t){var n,i,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=null!==(n=e.padding)&&void 0!==n?n:40,s=this.width-2*r,o=this.height-2*r,a=null!==(i=e.scale)&&void 0!==i?i:Math.min(s/t.width,o/t.height),l=this.width/2,c=this.height/2,h=t.x+t.width/2,u=t.y+t.height/2,f=this.localToGlobal(h,u),y={x:l,y:c};this.setZoom(a,f.x,f.y);var x=y.x-f.x,d=y.y-f.y;return this.translate(x,d),this}},{key:"reset",value:function(){return this.matrix=new Y.G9,this.transform={scale:1,rotation:0,scaleX:1,scaleY:1,skewX:0,skewY:0,flipX:!1,flipY:!1},this}},{key:"toCSS",value:function(){var t=this.getMatrix();return"matrix(".concat(t.a,",").concat(t.b,",").concat(t.c,",").concat(t.d,",").concat(t.tx,",").concat(t.ty,")")}}]),t}(),j=i(893),B=$RefreshSig$();function E(t,n){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var e=Object.getOwnPropertySymbols(t);n&&(e=e.filter((function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable}))),i.push.apply(i,e)}return i}function P(t){for(var n=1;n<arguments.length;n++){var i=null!=arguments[n]?arguments[n]:{};n%2?E(Object(i),!0).forEach((function(n){(0,r.Z)(t,n,i[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):E(Object(i)).forEach((function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(i,n))}))}return t}var S=600,L=400,R={left:440,top:240,width:70,height:80};function z(){B();var t=o.useState("matrix(1,0,0,1,0,0)"),n=(0,s.Z)(t,2),i=n[0],e=n[1],r=o.useState({x:300,y:200}),a=(0,s.Z)(r,2),l=a[0],c=a[1];return o.useEffect((function(){var t=0,n=0,i=0,r=0,s={cx:300,cy:200,x:0,y:0,zoom:1,rotation:0,skewX:0,skewY:0,flipX:!1,flipY:!1,zoomToFit:!1},o=new T({width:S,height:L}),a=function(){e(o.toCSS()),console.log(o.getMatrix().decompose())},l=new w.NR.GUI;l.add(s,"x",-S,S,1).onChange((function(n){var i=n-t;t=n,o.translateX(i),a()})),l.add(s,"y",-L,L,1).onChange((function(t){var i=t-n;n=t,o.translateY(i),a()})),l.add(s,"zoom",.1,50,.1).onChange((function(t){o.setZoom(t,s.cx,s.cy),a()})),l.add(s,"rotation",0,360,1).onChange((function(t){o.setRotation(t,s.cx,s.cy),a()})),l.add(s,"skewX",-90,90,1).onChange((function(t){o.skewX(t-i,s.cx,s.cy),i=t,a()})),l.add(s,"skewY",-90,90,1).onChange((function(t){o.skewY(t-r,s.cx,s.cy),r=t,a()})),l.add(s,"flipX").onChange((function(){o.flipX(s.cx,s.cy),a()})),l.add(s,"flipY").onChange((function(){o.flipY(s.cx,s.cy),a()})),l.add(s,"zoomToFit").onChange((function(){o.zoomToRect(P({x:R.left,y:R.top},R)),a()}));var h=l.addFolder("transform center");h.add(s,"cx",0,S,1).onChange((function(t){c({x:s.cx,y:s.cy})})),h.add(s,"cy",0,L,1).onChange((function(t){c({x:s.cx,y:s.cy})}))}),[]),(0,j.jsxs)("div",{className:"App",children:[(0,j.jsxs)("div",{className:"viewbox",style:{position:"relative",width:S,height:L,overflow:"hidden"},children:[(0,j.jsxs)("div",{className:"content",style:{transformOrigin:"0 0",transform:i},children:[(0,j.jsx)("img",{width:S,height:L,src:A}),(0,j.jsx)("div",{style:P(P({position:"absolute"},R),{},{opacity:.3,backgroundColor:"red"})})]}),(0,j.jsx)("div",{style:{zIndex:9,position:"absolute",left:l.x-3,top:l.y-3,width:6,height:6,borderRadius:"50%",opacity:.9,background:"red"}})]}),(0,j.jsx)("div",{children:i})]})}B(z,"P9kbykpYQKli6QI+PMXDfs8KDS0="),$RefreshReg$(z,"App");var D=document.getElementById("root");e.s(D).render((0,j.jsx)(z,{}))}},t=>{t.O(0,[578],(()=>{return n=874,t(t.s=n);var n}));t.O()}]);