"use strict";(self.webpackChunkreact_typescript=self.webpackChunkreact_typescript||[]).push([[179],{108:(t,i,n)=>{var r=n(745),e=n(942),o=n(152),a=n(294),s=n(376);const c=n.p+"static/images/c4cf532ead4844987d7f.png";var l=n(460),u=n(769),h=n(951),f=n(976),y=n(649),x=n(790),m=function(){function t(){var i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if((0,h.Z)(this,t),(0,y.Z)(this,"options",void 0),(0,y.Z)(this,"_matrix",new x.G9),(0,y.Z)(this,"transformOrigin",{x:0,y:0}),(0,y.Z)(this,"useDecompose",!0),this.options=i,this.transformOrigin=i.transformOrigin||this.transformOrigin,i.matrix){var n=(0,l.Z)(x.G9,(0,u.Z)(i.matrix));this.matrix=n}}return(0,f.Z)(t,[{key:"matrix",get:function(){return this._matrix},set:function(t){this._matrix=t}},{key:"transform",get:function(){return this.decompose()}},{key:"decompose",value:function(){return this.matrix.decompose()}},{key:"cx",get:function(){return this.transformOrigin.x}},{key:"cy",get:function(){return this.transformOrigin.y}},{key:"setTransformOrigin",value:function(t,i){this.transformOrigin={x:t,y:i}}},{key:"getTransformOrigin",value:function(){return{x:this.cx,y:this.cy}}},{key:"x",get:function(){return this.matrix.tx},set:function(t){var i=t-this.x;this.translate(i,0)}},{key:"y",get:function(){return this.matrix.ty},set:function(t){var i=t-this.y;this.translate(0,i)}},{key:"getPosition",value:function(){return{x:this.x,y:this.y}}},{key:"setPosition",value:function(t,i){return this.x=t,this.y=i,this}},{key:"setMatrix",value:function(t){return this.matrix=(0,l.Z)(x.G9,(0,u.Z)(t)),this}},{key:"getMatrix",value:function(){var t=this.matrix;return[t.a,t.b,t.c,t.d,t.tx,t.ty]}},{key:"globalToLocal",value:function(t,i){return this.matrix.clone().invert().transformPoint(t,i)}},{key:"localToGlobal",value:function(t,i){return this.matrix.transformPoint(t,i)}},{key:"translate",value:function(t,i){var n=this.globalToLocal(0,0),r=this.globalToLocal(t,i);return this.matrix.translate(r.x-n.x,r.y-n.y),this}},{key:"translateX",value:function(t){return this.translate(t,0)}},{key:"translateY",value:function(t){return this.translate(0,t)}},{key:"scale",value:function(t,i,n,r){var e=this.globalToLocal(null!=n?n:this.cx,null!=r?r:this.cy);return this.matrix.scale(t,i,e.x,e.y),this}},{key:"rotate",value:function(t,i,n){var r=this.globalToLocal(null!=i?i:this.cx,null!=n?n:this.cy);return this.matrix.rotate(t,r.x,r.y),this}},{key:"flipX",value:function(t,i){var n,r;t=null!==(n=t)&&void 0!==n?n:this.cx,i=null!==(r=i)&&void 0!==r?r:this.cy;var e=this.globalToLocal(t,i),o=-(this.x-t),a=new x.G9;return a.scale(-1,1,e.x,e.y),this.matrix.prependMatrix(a),this.x=t+o,this}},{key:"flipY",value:function(t,i){var n,r;t=null!==(n=t)&&void 0!==n?n:this.cx,i=null!==(r=i)&&void 0!==r?r:this.cy;var e=this.globalToLocal(t,i),o=-(this.y-i),a=new x.G9;return a.scale(1,-1,e.x,e.y),this.matrix.prependMatrix(a),this.y=i+o,this}},{key:"skewX",value:function(t,i,n){var r=this.globalToLocal(null!=i?i:this.cx,null!=n?n:this.cy);return this.matrix.translate(r.x,r.y),this.matrix.skewX(t),this.matrix.translate(-r.x,-r.y),this}},{key:"skewY",value:function(t,i,n){var r=this.globalToLocal(null!=i?i:this.cx,null!=n?n:this.cy);return this.matrix.translate(r.x,r.y),this.matrix.skewY(t),this.matrix.translate(-r.x,-r.y),this}},{key:"getZoom",value:function(){return this.transform.scaleX}},{key:"setZoom",value:function(t,i,n){var r=this.transform.scaleX,e=this.transform.scaleY;return this.scale(t/r,t/e,i,n),this}},{key:"setRotation",value:function(t,i,n){var r=t-this.transform.rotation;return this.rotate(r,i,n),this}},{key:"zoomToRect",value:function(t){var i,n,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},e=(null==r?void 0:r.size)||{width:400,height:400},o=null!==(i=r.padding)&&void 0!==i?i:0,a=e.width-2*o,s=e.height-2*o,c=null!==(n=r.scale)&&void 0!==n?n:Math.min(a/t.width,s/t.height),l=r.transformOrigin?r.transformOrigin.x:this.cx,u=r.transformOrigin?r.transformOrigin.y:this.cy,h=t.x+t.width/2,f=t.y+t.height/2,y=this.localToGlobal(h,f),x={x:l,y:u};this.setZoom(c,y.x,y.y);var m=x.x-y.x,v=x.y-y.y;return this.translate(m,v),this}},{key:"reset",value:function(){return this.matrix=new x.G9,this}},{key:"toCSS",value:function(){var t=this.getMatrix();return"matrix(".concat(t.join(","),")")}},{key:"clone",value:function(){return new t({transformOrigin:this.transformOrigin,matrix:this.getMatrix()})}}]),t}(),v=n(893);function g(t,i){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);i&&(r=r.filter((function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable}))),n.push.apply(n,r)}return n}function d(t){for(var i=1;i<arguments.length;i++){var n=null!=arguments[i]?arguments[i]:{};i%2?g(Object(n),!0).forEach((function(i){(0,e.Z)(t,i,n[i])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):g(Object(n)).forEach((function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))}))}return t}var p=600,k=400,O={left:440,top:240,width:70,height:80};function b(){var t=a.useState("matrix(1,0,0,1,0,0)"),i=(0,o.Z)(t,2),n=i[0],r=i[1],e=a.useState({x:300,y:200}),l=(0,o.Z)(e,2),u=l[0],h=l[1];return a.useEffect((function(){var t=0,i=0,n={cx:300,cy:200,x:0,y:0,zoom:1,rotation:0,skewX:0,skewY:0,flipX:!1,flipY:!1,zoomToFit:!1},e=new m({transformOrigin:u}),o=function(){console.log(e.toCSS()),r(e.toCSS())},a=new s.NR.GUI;a.add(n,"x",-p,p,1).onChange((function(i){var n=i-t;t=i,e.translateX(n),o()})),a.add(n,"y",-k,k,1).onChange((function(t){var n=t-i;i=t,e.translateY(n),o()})),a.add(n,"zoom",.1,50,.1).onChange((function(t){e.setZoom(t,n.cx,n.cy),o()})),a.add(n,"rotation",0,360,1).onChange((function(t){e.setRotation(t,n.cx,n.cy),o()})),a.add(n,"flipX").onChange((function(){e.flipX(n.cx,n.cy),o()})),a.add(n,"flipY").onChange((function(){e.flipY(n.cx,n.cy),o()})),a.add(n,"zoomToFit").onChange((function(){e.zoomToRect(d({x:O.left,y:O.top},O)),o()}));var c=a.addFolder("transform center");c.add(n,"cx",0,p,1).onChange((function(t){h({x:n.cx,y:n.cy}),e.setTransformOrigin(n.cx,n.cy)})),c.add(n,"cy",0,k,1).onChange((function(t){h({x:n.cx,y:n.cy}),e.setTransformOrigin(n.cx,n.cy)}))}),[]),(0,v.jsxs)("div",{className:"App",children:[(0,v.jsxs)("div",{className:"viewbox",style:{position:"relative",width:p,height:k,overflow:"hidden"},children:[(0,v.jsxs)("div",{className:"content",style:{transformOrigin:"0 0",transform:n},children:[(0,v.jsx)("img",{width:p,height:k,src:c}),(0,v.jsx)("div",{style:d(d({position:"absolute"},O),{},{opacity:.3,backgroundColor:"red"})})]}),(0,v.jsx)("div",{style:{zIndex:9,position:"absolute",left:u.x-3,top:u.y-3,width:6,height:6,borderRadius:"50%",opacity:.9,background:"red"}})]}),(0,v.jsx)("div",{children:n})]})}var w=document.getElementById("root");r.s(w).render((0,v.jsx)(b,{}))}},t=>{t.O(0,[578],(()=>{return i=108,t(t.s=i);var i}));t.O()}]);