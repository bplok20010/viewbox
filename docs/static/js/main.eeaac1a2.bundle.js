"use strict";(self.webpackChunkreact_typescript=self.webpackChunkreact_typescript||[]).push([[179],{108:(t,r,i)=>{var n=i(745),e=i(942),s=i(152),o=i(294),a=i(376);const c=i.p+"static/images/c4cf532ead4844987d7f.png";var h=i(951),l=i(976),u=i(649),f=i(790);function y(t,r){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);r&&(n=n.filter((function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable}))),i.push.apply(i,n)}return i}function x(t){for(var r=1;r<arguments.length;r++){var i=null!=arguments[r]?arguments[r]:{};r%2?y(Object(i),!0).forEach((function(r){(0,u.Z)(t,r,i[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):y(Object(i)).forEach((function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(i,r))}))}return t}var m=function(){function t(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(0,h.Z)(this,t),(0,u.Z)(this,"options",void 0),(0,u.Z)(this,"_matrix",new f.G9),(0,u.Z)(this,"_transform",{x:0,y:0,scaleX:1,scaleY:1,rotation:0,flipX:!1,flipY:!1}),(0,u.Z)(this,"transformOrigin",{x:0,y:0}),this.options=r,this.transformOrigin=r.transformOrigin||this.transformOrigin,r.transform&&this.setTransform(r.transform)}return(0,l.Z)(t,[{key:"matrix",get:function(){return this._matrix},set:function(t){this._matrix=t}},{key:"transform",get:function(){return this._transform.x=this.x,this._transform.y=this.y,this._transform},set:function(t){this._transform=x(x({},this._transform),t)}},{key:"decompose",value:function(){return this.matrix.decompose()}},{key:"cx",get:function(){return this.transformOrigin.x}},{key:"cy",get:function(){return this.transformOrigin.y}},{key:"setTransformOrigin",value:function(t,r){this.transformOrigin={x:t,y:r}}},{key:"getTransformOrigin",value:function(){return{x:this.cx,y:this.cy}}},{key:"x",get:function(){return this.matrix.tx},set:function(t){var r=t-this.x;this.translate(r,0)}},{key:"y",get:function(){return this.matrix.ty},set:function(t){var r=t-this.y;this.translate(0,r)}},{key:"refreshMatrix",value:function(){var t=this.transform,r=t.x,i=t.y,n=t.rotation,e=t.scaleX,s=t.scaleY,o=t.flipX,a=t.flipY,c=new f.G9;c.scale(o?-1:1,a?-1:1),c.scale(e,s),c.rotate(n),this.matrix=c,this.x=r,this.y=i}},{key:"getPosition",value:function(){return{x:this.x,y:this.y}}},{key:"setPosition",value:function(t,r){return this.x=t,this.y=r,this}},{key:"getTransform",value:function(){return x(x({},this.transform),{},{x:this.x,y:this.y})}},{key:"setTransform",value:function(t){var r,i,n=null!==(r=t.x)&&void 0!==r?r:this.x,e=null!==(i=t.y)&&void 0!==i?i:this.y;return this.transform=x(x({},this.transform),t),this.refreshMatrix(),this.x=n,this.y=e,this}},{key:"getMatrixObject",value:function(){return this.matrix.clone()}},{key:"getMatrix",value:function(){var t=this.matrix;return[t.a,t.b,t.c,t.d,t.tx,t.ty]}},{key:"globalToLocal",value:function(t,r){return this.getMatrixObject().invert().transformPoint(t,r)}},{key:"localToGlobal",value:function(t,r){return this.matrix.transformPoint(t,r)}},{key:"translate",value:function(t,r){var i=this.globalToLocal(0,0),n=this.globalToLocal(t,r);return this.matrix.translate(n.x-i.x,n.y-i.y),this}},{key:"translateX",value:function(t){return this.translate(t,0)}},{key:"translateY",value:function(t){return this.translate(0,t)}},{key:"scale",value:function(t,r,i,n){var e=this.globalToLocal(null!=i?i:this.cx,null!=n?n:this.cy);return this.matrix.scale(t,r,e.x,e.y),this.transform.scaleX+=t,this.transform.scaleY+=r,this}},{key:"rotate",value:function(t,r,i){var n=this.globalToLocal(null!=r?r:this.cx,null!=i?i:this.cy);return this.matrix.rotate(t,n.x,n.y),this.transform.rotation+=t,this}},{key:"flipX",value:function(t,r){var i,n;t=null!==(i=t)&&void 0!==i?i:this.cx,r=null!==(n=r)&&void 0!==n?n:this.cy;var e=-(this.x-t);return this.transform.flipX=!this.transform.flipX,this.refreshMatrix(),this.x=t+e,this}},{key:"flipY",value:function(t,r){var i,n;t=null!==(i=t)&&void 0!==i?i:this.cx,r=null!==(n=r)&&void 0!==n?n:this.cy;var e=-(this.y-r);return this.transform.flipY=!this.transform.flipY,this.refreshMatrix(),this.y=r+e,this}},{key:"skewX",value:function(t,r,i){var n=this.globalToLocal(null!=r?r:this.cx,null!=i?i:this.cy);return this.matrix.translate(n.x,n.y),this.matrix.skewX(t),this.matrix.translate(-n.x,-n.y),this}},{key:"skewY",value:function(t,r,i){var n=this.globalToLocal(null!=r?r:this.cx,null!=i?i:this.cy);return this.matrix.translate(n.x,n.y),this.matrix.skewY(t),this.matrix.translate(-n.x,-n.y),this}},{key:"getZoom",value:function(){return this.transform.scaleX}},{key:"setZoom",value:function(t,r,i){var n,e,s=this.transform.scaleX,o=this.transform.scaleY;r=null!==(n=r)&&void 0!==n?n:this.cx,i=null!==(e=i)&&void 0!==e?e:this.cy;var a=this.x-r,c=this.y-i;return this.transform.scaleX=t,this.transform.scaleY=t,this.refreshMatrix(),this.x=r+a*(t/s),this.y=i+c*(t/o),this}},{key:"setRotation",value:function(t,r,i){var n=t-this.transform.rotation;return this.rotate(n,r,i),this}},{key:"zoomToRect",value:function(t){var r,i,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},e=(null==n?void 0:n.size)||{width:400,height:400},s=null!==(r=n.padding)&&void 0!==r?r:0,o=e.width-2*s,a=e.height-2*s,c=null!==(i=n.scale)&&void 0!==i?i:Math.min(o/t.width,a/t.height),h=n.transformOrigin?n.transformOrigin.x:this.cx,l=n.transformOrigin?n.transformOrigin.y:this.cy,u=t.x+t.width/2,f=t.y+t.height/2,y=this.localToGlobal(u,f),x={x:h,y:l};this.setZoom(c,y.x,y.y);var m=x.x-y.x,v=x.y-y.y;return this.translate(m,v),this}},{key:"reset",value:function(){return this.matrix=new f.G9,this}},{key:"toCSS",value:function(){var t=this.getMatrix();return"matrix(".concat(t.join(","),")")}},{key:"clone",value:function(){return new t({transformOrigin:this.getTransformOrigin(),transform:this.getTransform()})}}]),t}(),v=i(893);function g(t,r){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);r&&(n=n.filter((function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable}))),i.push.apply(i,n)}return i}function d(t){for(var r=1;r<arguments.length;r++){var i=null!=arguments[r]?arguments[r]:{};r%2?g(Object(i),!0).forEach((function(r){(0,e.Z)(t,r,i[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):g(Object(i)).forEach((function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(i,r))}))}return t}var p=600,O=400,b={left:440,top:240,width:70,height:80};function k(){var t=o.useState("matrix(1,0,0,1,0,0)"),r=(0,s.Z)(t,2),i=r[0],n=r[1],e=o.useState({x:300,y:200}),h=(0,s.Z)(e,2),l=h[0],u=h[1];return o.useEffect((function(){var t=0,r=0,i={cx:300,cy:200,x:0,y:0,zoom:1,rotation:0,skewX:0,skewY:0,flipX:!1,flipY:!1,zoomToFit:!1},e=new m({transformOrigin:l}),s=function(){console.log(e.toCSS()),n(e.toCSS())};window.viewBox=e,window.update=s;var o=new a.NR.GUI;o.add(i,"x",-p,p,1).onChange((function(r){var i=r-t;t=r,e.translateX(i),s()})),o.add(i,"y",-O,O,1).onChange((function(t){var i=t-r;r=t,e.translateY(i),s()})),o.add(i,"zoom",.1,50,.1).onChange((function(t){e.setZoom(t,i.cx,i.cy),s()})),o.add(i,"rotation",0,360,1).onChange((function(t){e.setRotation(t,i.cx,i.cy),s()})),o.add(i,"flipX").onChange((function(){e.flipX(i.cx,i.cy),s()})),o.add(i,"flipY").onChange((function(){e.flipY(i.cx,i.cy),s()})),o.add(i,"zoomToFit").onChange((function(){e.zoomToRect(d({x:b.left,y:b.top},b)),s()}));var c=o.addFolder("transform center");c.add(i,"cx",0,p,1).onChange((function(t){u({x:i.cx,y:i.cy}),e.setTransformOrigin(i.cx,i.cy)})),c.add(i,"cy",0,O,1).onChange((function(t){u({x:i.cx,y:i.cy}),e.setTransformOrigin(i.cx,i.cy)}))}),[]),(0,v.jsxs)("div",{className:"App",children:[(0,v.jsxs)("div",{className:"viewbox",style:{position:"relative",width:p,height:O,overflow:"hidden"},children:[(0,v.jsxs)("div",{className:"content",style:{transformOrigin:"0 0",transform:i},children:[(0,v.jsx)("img",{width:p,height:O,src:c}),(0,v.jsx)("div",{style:d(d({position:"absolute"},b),{},{opacity:.3,backgroundColor:"red"})})]}),(0,v.jsx)("div",{style:{zIndex:9,position:"absolute",left:l.x-3,top:l.y-3,width:6,height:6,borderRadius:"50%",opacity:.9,background:"red"}})]}),(0,v.jsx)("div",{children:i})]})}var w=document.getElementById("root");n.s(w).render((0,v.jsx)(k,{}))}},t=>{t.O(0,[578],(()=>{return r=108,t(t.s=r);var r}));t.O()}]);