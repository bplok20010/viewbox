"use strict";(self.webpackChunkreact_typescript=self.webpackChunkreact_typescript||[]).push([[179],{108:(t,r,e)=>{var n=e(745),i=e(942),s=e(152),o=e(294),a=e(376);const c=e.p+"static/images/c4cf532ead4844987d7f.png";var h=e(951),l=e(976),u=e(649),f=e(790);function y(t,r){var e=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);r&&(n=n.filter((function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable}))),e.push.apply(e,n)}return e}function m(t){for(var r=1;r<arguments.length;r++){var e=null!=arguments[r]?arguments[r]:{};r%2?y(Object(e),!0).forEach((function(r){(0,u.Z)(t,r,e[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(e)):y(Object(e)).forEach((function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(e,r))}))}return t}var x=400,d=400;var v=function(){function t(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(0,h.Z)(this,t),(0,u.Z)(this,"options",void 0),(0,u.Z)(this,"_matrix",new f.G9),(0,u.Z)(this,"_transform",{a:1,b:0,c:0,d:1,x:0,y:0,scaleX:1,scaleY:1,rotation:0,flipX:!1,flipY:!1,skewX:0,skewY:0}),(0,u.Z)(this,"transformOrigin",{x:0,y:0}),this.options=r,this.transformOrigin=r.transformOrigin||this.transformOrigin,r.transform&&this.setTransform(r.transform)}return(0,l.Z)(t,[{key:"matrix",get:function(){return this._matrix},set:function(t){this._matrix=t}},{key:"transform",get:function(){return this._transform.x=this.x,this._transform.y=this.y,this._transform},set:function(t){this._transform=m(m({},this._transform),t)}},{key:"decompose",value:function(){return this.matrix.decompose()}},{key:"cx",get:function(){return this.transformOrigin.x}},{key:"cy",get:function(){return this.transformOrigin.y}},{key:"setTransformOrigin",value:function(t,r){this.transformOrigin={x:t,y:r}}},{key:"getTransformOrigin",value:function(){return{x:this.cx,y:this.cy}}},{key:"x",get:function(){return this.matrix.tx},set:function(t){var r=t-this.x;this.translate(r,0)}},{key:"y",get:function(){return this.matrix.ty},set:function(t){var r=t-this.y;this.translate(0,r)}},{key:"getPosition",value:function(){return{x:this.x,y:this.y}}},{key:"setPosition",value:function(t,r){return this.x=t,this.y=r,this}},{key:"getTransform",value:function(){var t=this.matrix,r=t.a,e=t.b,n=t.c,i=t.d,s=t.tx,o=t.ty;return m(m({},this.transform),{},{a:r,b:e,c:n,d:i,x:s,y:o})}},{key:"setTransform",value:function(t){var r=t.a,e=void 0===r?1:r,n=t.b,i=void 0===n?0:n,s=t.c,o=void 0===s?0:s,a=t.d,c=void 0===a?1:a,h=t.x,l=void 0===h?0:h,u=t.y,y=void 0===u?0:u,x=new f.G9(e,i,o,c,l,y),d=x.decompose();return this.transform=m(m({},{a:1,b:0,c:0,d:1,x:0,y:0,scaleX:1,scaleY:1,rotation:0,flipX:!1,flipY:!1,skewX:0,skewY:0}),{},{scaleX:d.scaleX,scaleY:d.scaleY,rotation:d.rotation,x:d.x,y:d.y},t),this.matrix=x,this}},{key:"getMatrixObject",value:function(){return this.matrix.clone()}},{key:"getMatrix",value:function(){var t=this.matrix;return[t.a,t.b,t.c,t.d,t.tx,t.ty]}},{key:"globalToLocal",value:function(t,r){return this.getMatrixObject().invert().transformPoint(t,r)}},{key:"localToGlobal",value:function(t,r){return this.matrix.transformPoint(t,r)}},{key:"translate",value:function(t,r){return this.matrix.prepend(1,0,0,1,t,r),this}},{key:"translateX",value:function(t){return this.translate(t,0)}},{key:"translateY",value:function(t){return this.translate(0,t)}},{key:"scale",value:function(t,r,e,n){var i=new f.G9;return i.scale(t,r,null!=e?e:this.cx,null!=n?n:this.cy),this.matrix.prependMatrix(i),this.transform.scaleX*=t,this.transform.scaleY*=r,this}},{key:"rotate",value:function(t,r,e){var n=new f.G9;return n.rotate(t,null!=r?r:this.cx,null!=e?e:this.cy),this.matrix.prependMatrix(n),this.transform.rotation+=t,this}},{key:"flipX",value:function(t,r){var e,n;t=null!==(e=t)&&void 0!==e?e:this.cx,r=null!==(n=r)&&void 0!==n?n:this.cy;var i=new f.G9;return i.flipX(t,r),this.matrix.prependMatrix(i),this.transform.flipX=!this.transform.flipX,this}},{key:"flipY",value:function(t,r){var e,n;t=null!==(e=t)&&void 0!==e?e:this.cx,r=null!==(n=r)&&void 0!==n?n:this.cy;var i=new f.G9;return i.flipY(t,r),this.matrix.prependMatrix(i),this.transform.flipX=!this.transform.flipX,this}},{key:"skewX",value:function(t,r,e){var n=new f.G9;return n.skewX(t,null!=r?r:this.cx,null!=e?e:this.cy),this.matrix.prependMatrix(n),this.transform.skewX+=t,this}},{key:"setSkewX",value:function(t,r,e){var n=this.transform.skewX,i=new f.G9;return i.skewX(t-n,null!=r?r:this.cx,null!=e?e:this.cy),this.matrix.prependMatrix(i),this.transform.skewX=t,this}},{key:"skewY",value:function(t,r,e){var n=new f.G9;return n.skewY(t,null!=r?r:this.cx,null!=e?e:this.cy),this.matrix.prependMatrix(n),this.transform.skewY+=t,this}},{key:"setSkewY",value:function(t,r,e){var n=this.transform.skewY,i=new f.G9;return i.skewY(t-n,null!=r?r:this.cx,null!=e?e:this.cy),this.matrix.prependMatrix(i),this.transform.skewY=t,this}},{key:"getZoom",value:function(){return this.transform.scaleX}},{key:"setZoom",value:function(t,r,e){var n,i,s=this.transform.scaleX,o=this.transform.scaleY;this.transform.scaleX=t,this.transform.scaleY=t,r=null!==(n=r)&&void 0!==n?n:this.cx,e=null!==(i=e)&&void 0!==i?i:this.cy;var a=new f.G9;return a.scale(t/s,t/o,r,e),this.matrix.prependMatrix(a),this}},{key:"setRotation",value:function(t,r,e){var n=t-this.transform.rotation;return this.rotate(n,r,e),this}},{key:"zoomToRect",value:function(t){var r,e,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!t)return this;var i=(null==n?void 0:n.size)||{width:x,height:d},s=null!==(r=n.padding)&&void 0!==r?r:0,o=i.width-2*s,a=i.height-2*s,c=null!==(e=n.scale)&&void 0!==e?e:Math.min(o/t.width,a/t.height),h=n.transformOrigin?n.transformOrigin.x:this.cx,l=n.transformOrigin?n.transformOrigin.y:this.cy,u=t.x+t.width/2,f=t.y+t.height/2;return this.translate(h-u,l-f),this.scale(c,c,h,l),this}},{key:"zoomToFit",value:function(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},e=(null==r?void 0:r.size)||{width:x,height:d};return this.zoomToRect(t,m(m({},r),{},{transformOrigin:{x:e.width/2,y:e.height/2}}))}},{key:"reset",value:function(){return this.matrix=new f.G9,this}},{key:"toCSS",value:function(){var t=this.getMatrix();return"matrix(".concat(t.join(","),")")}},{key:"toString",value:function(){return this.toCSS()}},{key:"clone",value:function(){return new t({transformOrigin:this.getTransformOrigin(),transform:this.getTransform()})}}]),t}(),p=e(893);function g(t,r){var e=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);r&&(n=n.filter((function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable}))),e.push.apply(e,n)}return e}function w(t){for(var r=1;r<arguments.length;r++){var e=null!=arguments[r]?arguments[r]:{};r%2?g(Object(e),!0).forEach((function(r){(0,i.Z)(t,r,e[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(e)):g(Object(e)).forEach((function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(e,r))}))}return t}var k=600,O=400,b={left:440,top:240,width:70,height:80};function j(){var t=o.useState("matrix(1,0,0,1,0,0)"),r=(0,s.Z)(t,2),e=r[0],n=r[1],i=o.useState({x:300,y:200}),h=(0,s.Z)(i,2),l=h[0],u=h[1];return o.useEffect((function(){var t=0,r=0,e={cx:300,cy:200,x:0,y:0,zoom:1,rotation:0,skewX:0,skewY:0,flipX:!1,flipY:!1,zoomToFit:!1},i=new v({transformOrigin:l}),s=function(){console.log(i.toCSS()),n(i.toCSS())};window.viewBox=i,window.update=s;var o=new a.NR.GUI;o.add(e,"x",-k,k,1).onChange((function(r){var e=r-t;t=r,i.translateX(e),s()})),o.add(e,"y",-O,O,1).onChange((function(t){var e=t-r;r=t,i.translateY(e),s()})),o.add(e,"zoom",.1,50,.1).onChange((function(t){i.setZoom(t,e.cx,e.cy),s()})),o.add(e,"rotation",0,360,1).onChange((function(t){i.setRotation(t,e.cx,e.cy),s()})),o.add(e,"skewX",-45,45,1).onChange((function(t){i.setSkewX(t,e.cx,e.cy),s()})),o.add(e,"skewY",-45,45,1).onChange((function(t){i.setSkewY(t,e.cx,e.cy),s()})),o.add(e,"flipX").onChange((function(){i.flipX(e.cx,e.cy),s()})),o.add(e,"flipY").onChange((function(){i.flipY(e.cx,e.cy),s()})),o.add(e,"zoomToFit").onChange((function(){var t=i.localToGlobal(b.left,b.top),r=i.localToGlobal(b.left+b.width,b.top),e=i.localToGlobal(b.left+b.width,b.top+b.height),n=i.localToGlobal(b.left,b.top+b.height),o=Math.min(t.x,r.x,e.x,n.x),a=Math.min(t.y,r.y,e.y,n.y),c=Math.max(t.x,r.x,e.x,n.x),h=Math.max(t.y,r.y,e.y,n.y);i.zoomToFit({x:o,y:a,width:c-o,height:h-a},{size:{width:600,height:400}}),s()}));var c=o.addFolder("transform center");c.add(e,"cx",0,k,1).onChange((function(t){u({x:e.cx,y:e.cy}),i.setTransformOrigin(e.cx,e.cy)})),c.add(e,"cy",0,O,1).onChange((function(t){u({x:e.cx,y:e.cy}),i.setTransformOrigin(e.cx,e.cy)}))}),[]),(0,p.jsxs)("div",{className:"App",children:[(0,p.jsxs)("div",{className:"viewbox",style:{position:"relative",width:k,height:O,overflow:"hidden"},children:[(0,p.jsxs)("div",{className:"content",style:{transformOrigin:"0 0",transform:e},children:[(0,p.jsx)("img",{width:k,height:O,src:c}),(0,p.jsx)("div",{style:w(w({position:"absolute"},b),{},{opacity:.3,backgroundColor:"red"})})]}),(0,p.jsx)("div",{style:{zIndex:9,position:"absolute",left:l.x-3,top:l.y-3,width:6,height:6,borderRadius:"50%",opacity:.9,background:"red"}})]}),(0,p.jsx)("div",{children:e})]})}var X=document.getElementById("root");n.s(X).render((0,p.jsx)(j,{}))}},t=>{t.O(0,[578],(()=>{return r=108,t(t.s=r);var r}));t.O()}]);