"use strict";(self.webpackChunkreact_typescript=self.webpackChunkreact_typescript||[]).push([[179],{108:(t,e,i)=>{var r=i(745),n=i(942),s=i(152),o=i(294),a=i(376);const c=i.p+"static/images/c4cf532ead4844987d7f.png";var h=i(460),l=i(769),u=i(951),f=i(976),y=i(649),m=i(790);function x(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,r)}return i}function g(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?x(Object(i),!0).forEach((function(e){(0,y.Z)(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):x(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}var d=400,v=400,p=function(){function t(){var e,i,r,n,s,o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(0,u.Z)(this,t),(0,y.Z)(this,"options",void 0),(0,y.Z)(this,"matrix",new m.G9),(0,y.Z)(this,"transformOrigin",{x:0,y:0}),(0,y.Z)(this,"useDecompose",!1),(0,y.Z)(this,"_transform",{x:0,y:0,rotation:0,scaleX:1,scaleY:1,skewX:0,skewY:0}),(0,y.Z)(this,"width",d),(0,y.Z)(this,"height",v),this.options=o,this.width=null!==(e=o.width)&&void 0!==e?e:d,this.height=null!==(i=o.height)&&void 0!==i?i:v,this.useDecompose=null!==(r=o.useDecompose)&&void 0!==r&&r,this.transformOrigin=o.transformOrigin||this.transformOrigin,this.x=null!==(n=o.x)&&void 0!==n?n:0,this.y=null!==(s=o.y)&&void 0!==s?s:0}return(0,f.Z)(t,[{key:"transform",get:function(){if(!this.useDecompose){var t=this._transform;return t.x=this.matrix.tx,t.y=this.matrix.ty,t}return g({rotation:0,scaleX:1,scaleY:1,skewX:0,skewY:0},this.decompose())},set:function(t){this._transform=t}},{key:"decompose",value:function(){return this.matrix.decompose()}},{key:"cx",get:function(){return this.transformOrigin.x}},{key:"cy",get:function(){return this.transformOrigin.y}},{key:"setTransformOrigin",value:function(t,e){this.transformOrigin={x:t,y:e}}},{key:"getTransformOrigin",value:function(){return{x:this.cx,y:this.cy}}},{key:"x",get:function(){return this.matrix.tx},set:function(t){var e=t-this.x;this.translate(e,0)}},{key:"y",get:function(){return this.matrix.ty},set:function(t){var e=t-this.y;this.translate(0,e)}},{key:"zoom",get:function(){return this.transform.scaleX},set:function(t){this.setZoom(t)}},{key:"setMatrix",value:function(t){this.matrix=t}},{key:"getMatrix",value:function(){return this.matrix.clone()}},{key:"globalToLocal",value:function(t,e){return this.getMatrix().invert().transformPoint(t,e)}},{key:"localToGlobal",value:function(t,e){return this.matrix.transformPoint(t,e)}},{key:"translate",value:function(t,e){var i=this.globalToLocal(0,0),r=this.globalToLocal(t,e);return this.matrix.translate(r.x-i.x,r.y-i.y),this}},{key:"translateX",value:function(t){return this.translate(t,0)}},{key:"translateY",value:function(t){return this.translate(0,t)}},{key:"scale",value:function(t,e,i,r){var n=this.globalToLocal(null!=i?i:this.cx,null!=r?r:this.cy);return this.matrix.scale(t,e,n.x,n.y),this.transform.scaleX+=t,this.transform.scaleY+=e,this}},{key:"rotate",value:function(t,e,i){var r=this.globalToLocal(null!=e?e:this.cx,null!=i?i:this.cy);return this.matrix.rotate(t,r.x,r.y),this.transform.rotation+=t,this}},{key:"flipX",value:function(t,e){var i=this.globalToLocal(null!=t?t:this.cx,null!=e?e:this.cy);return this.matrix.scale(-1,1,i.x,i.y),this}},{key:"flipY",value:function(t,e){var i=this.globalToLocal(null!=t?t:this.cx,null!=e?e:this.cy);return this.matrix.scale(1,-1,i.x,i.y),this}},{key:"skewX",value:function(t,e,i){var r=this.globalToLocal(null!=e?e:this.cx,null!=i?i:this.cy);return this.matrix.translate(r.x,r.y),this.matrix.skewX(t),this.matrix.translate(-r.x,-r.y),this.transform.skewX+=t,this}},{key:"skewY",value:function(t,e,i){var r=this.globalToLocal(null!=e?e:this.cx,null!=i?i:this.cy);return this.matrix.translate(r.x,r.y),this.matrix.skewY(t),this.matrix.translate(-r.x,-r.y),this.transform.skewY+=t,this}},{key:"getZoom",value:function(){return this.zoom}},{key:"setZoom",value:function(t,e,i){var r=this.transform.scaleX,n=this.transform.scaleY,s=this.globalToLocal(null!=e?e:this.cx,null!=i?i:this.cy);return this.matrix.scale(t/r,t/n,s.x,s.y),this.transform.scaleX=t,this.transform.scaleY=t,this}},{key:"setRotation",value:function(t,e,i){var r=this.globalToLocal(null!=e?e:this.cx,null!=i?i:this.cy),n=t-this.transform.rotation;return this.matrix.rotate(n,r.x,r.y),this.transform.rotation=t,this}},{key:"setSkewX",value:function(t,e,i){this.useDecompose&&console.warn("[ViewBox] useDecompose is enabled! please use skewX() instead！");var r=t-this.transform.skewX;return this.skewX(r,e,i),this.transform.skewX=t,this}},{key:"setSkewY",value:function(t,e,i){this.useDecompose&&console.warn("[ViewBox] useDecompose is enabled! please use skewY() instead！");var r=t-this.transform.skewY;return this.skewY(r,e,i),this.transform.skewY=t,this}},{key:"zoomToRect",value:function(t){var e,i,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=null!==(e=r.padding)&&void 0!==e?e:0,s=this.width-2*n,o=this.height-2*n,a=null!==(i=r.scale)&&void 0!==i?i:Math.min(s/t.width,o/t.height),c=r.transformOrigin?r.transformOrigin.x:this.cx,h=r.transformOrigin?r.transformOrigin.y:this.cy,l=t.x+t.width/2,u=t.y+t.height/2,f=this.localToGlobal(l,u),y={x:c,y:h};this.setZoom(a,f.x,f.y);var m=y.x-f.x,x=y.y-f.y;return this.translate(m,x),this}},{key:"reset",value:function(){return this.matrix=new m.G9,this.transform={x:0,y:0,rotation:0,scaleX:1,scaleY:1,skewX:0,skewY:0},this}},{key:"toCSS",value:function(){var t=this.getMatrix();return"matrix(".concat(t.a,",").concat(t.b,",").concat(t.c,",").concat(t.d,",").concat(t.tx,",").concat(t.ty,")")}},{key:"clone",value:function(){var e=new t({width:this.width,height:this.height,transformOrigin:this.transformOrigin,useDecompose:this.useDecompose});return e.transform=g({},this.transform),e.matrix=this.getMatrix(),e}},{key:"toJSON",value:function(){var t=this.matrix,e=t.a,i=t.b,r=t.c,n=t.d,s=t.tx,o=t.ty;return{options:{width:this.width,height:this.height,transformOrigin:this.transformOrigin,useDecompose:this.useDecompose},matrix:[e,i,r,n,s,o],transform:g({},this.transform)}}}],[{key:"formJSON",value:function(e){var i=e.options,r=e.matrix,n=e.transform,s=(0,h.Z)(m.G9,(0,l.Z)(r)),o=new t(i);return o.setMatrix(s),o.transform=g({},n),o}}]),t}(),k=i(893);function w(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,r)}return i}function O(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?w(Object(i),!0).forEach((function(e){(0,n.Z)(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):w(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}var b=600,j=400,X={left:440,top:240,width:70,height:80};function Y(){var t=o.useState("matrix(1,0,0,1,0,0)"),e=(0,s.Z)(t,2),i=e[0],r=e[1],n=o.useState({x:300,y:200}),h=(0,s.Z)(n,2),l=h[0],u=h[1];return o.useEffect((function(){var t=0,e=0,i={cx:300,cy:200,x:0,y:0,zoom:1,rotation:0,skewX:0,skewY:0,flipX:!1,flipY:!1,zoomToFit:!1},n=new p({width:b,height:j,transformOrigin:l,useDecompose:!1}),s=function(){r(n.toCSS())},o=new a.NR.GUI;o.add(i,"x",-b,b,1).onChange((function(e){var i=e-t;t=e,n.translateX(i),s()})),o.add(i,"y",-j,j,1).onChange((function(t){var i=t-e;e=t,n.translateY(i),s()})),o.add(i,"zoom",.1,50,.1).onChange((function(t){n.setZoom(t,i.cx,i.cy),s()})),o.add(i,"rotation",0,360,1).onChange((function(t){n.setRotation(t,i.cx,i.cy),s()})),o.add(i,"skewX",-90,90,1).onChange((function(t){n.setSkewX(t,i.cx,i.cy),s()})),o.add(i,"skewY",-90,90,1).onChange((function(t){n.setSkewY(t,i.cx,i.cy),s()})),o.add(i,"flipX").onChange((function(){n.flipX(i.cx,i.cy),s()})),o.add(i,"flipY").onChange((function(){n.flipY(i.cx,i.cy),s()})),o.add(i,"zoomToFit").onChange((function(){n.zoomToRect(O({x:X.left,y:X.top},X)),s()}));var c=o.addFolder("transform center");c.add(i,"cx",0,b,1).onChange((function(t){u({x:i.cx,y:i.cy}),n.setTransformOrigin(i.cx,i.cy)})),c.add(i,"cy",0,j,1).onChange((function(t){u({x:i.cx,y:i.cy}),n.setTransformOrigin(i.cx,i.cy)}))}),[]),(0,k.jsxs)("div",{className:"App",children:[(0,k.jsxs)("div",{className:"viewbox",style:{position:"relative",width:b,height:j,overflow:"hidden"},children:[(0,k.jsxs)("div",{className:"content",style:{transformOrigin:"0 0",transform:i},children:[(0,k.jsx)("img",{width:b,height:j,src:c}),(0,k.jsx)("div",{style:O(O({position:"absolute"},X),{},{opacity:.3,backgroundColor:"red"})})]}),(0,k.jsx)("div",{style:{zIndex:9,position:"absolute",left:l.x-3,top:l.y-3,width:6,height:6,borderRadius:"50%",opacity:.9,background:"red"}})]}),(0,k.jsx)("div",{children:i})]})}var D=document.getElementById("root");r.s(D).render((0,k.jsx)(Y,{}))}},t=>{t.O(0,[578],(()=>{return e=108,t(t.s=e);var e}));t.O()}]);