"use strict";(self.webpackChunkreact_typescript=self.webpackChunkreact_typescript||[]).push([[179],{108:(t,i,n)=>{var e=n(745),r=n(942),o=n(152),s=n(294),a=n(376);const l=n.p+"static/images/c4cf532ead4844987d7f.png";var c=n(951),h=n(976),u=n(649),f=n(790),y=400,x=400,m=function(){function t(){var i,n,e,r,o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(0,c.Z)(this,t),(0,u.Z)(this,"options",void 0),(0,u.Z)(this,"matrix",new f.G9),(0,u.Z)(this,"transformOrigin",void 0),(0,u.Z)(this,"transform",{scale:1,rotation:0,scaleX:1,scaleY:1,skewX:0,skewY:0,flipX:!1,flipY:!1}),(0,u.Z)(this,"width",y),(0,u.Z)(this,"height",x),this.options=o,this.width=null!==(i=o.width)&&void 0!==i?i:y,this.height=null!==(n=o.height)&&void 0!==n?n:x,this.x=null!==(e=o.x)&&void 0!==e?e:0,this.y=null!==(r=o.y)&&void 0!==r?r:0}return(0,h.Z)(t,[{key:"decompose",value:function(){return this.matrix.decompose()}},{key:"currentScale",get:function(){return this.transform.scale}},{key:"currentRotation",get:function(){return this.transform.rotation}},{key:"cx",get:function(){return this.transformOrigin?this.transformOrigin.x:this.width/2}},{key:"cy",get:function(){return this.transformOrigin?this.transformOrigin.y:this.height/2}},{key:"setTransformOrigin",value:function(t,i){this.transformOrigin={x:t,y:i}}},{key:"getTransformOrigin",value:function(){return{x:this.cx,y:this.cy}}},{key:"x",get:function(){return this.matrix.tx},set:function(t){var i=t-this.x;this.translate(i,0)}},{key:"y",get:function(){return this.matrix.ty},set:function(t){var i=t-this.y;this.translate(0,i)}},{key:"zoom",get:function(){return this.transform.scaleX},set:function(t){this.setZoom(t)}},{key:"getMatrix",value:function(){return this.matrix.clone()}},{key:"globalToLocal",value:function(t,i){return this.getMatrix().invert().transformPoint(t,i)}},{key:"localToGlobal",value:function(t,i){return this.matrix.transformPoint(t,i)}},{key:"translate",value:function(t,i){var n=this.globalToLocal(0,0),e=this.globalToLocal(t,i);return this.matrix.translate(e.x-n.x,e.y-n.y),this}},{key:"translateX",value:function(t){return this.translate(t,0)}},{key:"translateY",value:function(t){return this.translate(0,t)}},{key:"scale",value:function(t,i,n,e){var r=this.globalToLocal(null!=n?n:this.cx,null!=e?e:this.cy);return this.matrix.scale(t,i,r.x,r.y),this.transform.scaleX+=t,this.transform.scaleY+=i,this}},{key:"rotate",value:function(t,i,n){var e=this.globalToLocal(null!=i?i:this.cx,null!=n?n:this.cy);return this.matrix.rotate(t,e.x,e.y),this.transform.rotation+=t,this}},{key:"flipX",value:function(t,i){var n=this.globalToLocal(null!=t?t:this.cx,null!=i?i:this.cy);return this.matrix.scale(-1,1,n.x,n.y),this.transform.flipX=!this.transform.flipX,this}},{key:"flipY",value:function(t,i){var n=this.globalToLocal(null!=t?t:this.cx,null!=i?i:this.cy);return this.matrix.scale(1,-1,n.x,n.y),this.transform.flipY=!this.transform.flipY,this}},{key:"skewX",value:function(t,i,n){var e=this.globalToLocal(null!=i?i:this.cx,null!=n?n:this.cy);return this.matrix.translate(e.x,e.y),this.matrix.skewX(t),this.matrix.translate(-e.x,-e.y),this.transform.skewX+=t,this}},{key:"skewY",value:function(t,i,n){var e=this.globalToLocal(null!=i?i:this.cx,null!=n?n:this.cy);return this.matrix.translate(e.x,e.y),this.matrix.skewY(t),this.matrix.translate(-e.x,-e.y),this.transform.skewY+=t,this}},{key:"getZoom",value:function(){return this.zoom}},{key:"setZoom",value:function(t,i,n){var e=this.transform.scaleX,r=this.transform.scaleY,o=this.globalToLocal(null!=i?i:this.cx,null!=n?n:this.cy);return this.matrix.scale(t/e,t/r,o.x,o.y),this.transform.scaleX=t,this.transform.scaleY=t,this}},{key:"setRotation",value:function(t,i,n){var e=this.globalToLocal(null!=i?i:this.cx,null!=n?n:this.cy),r=this.transform;return this.matrix.rotate(t-r.rotation,e.x,e.y),this.transform.rotation=t,this}},{key:"zoomToRect",value:function(t){var i,n,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=null!==(i=e.padding)&&void 0!==i?i:40,o=this.width-2*r,s=this.height-2*r,a=null!==(n=e.scale)&&void 0!==n?n:Math.min(o/t.width,s/t.height),l=this.width/2,c=this.height/2,h=t.x+t.width/2,u=t.y+t.height/2,f=this.localToGlobal(h,u),y={x:l,y:c};this.setZoom(a,f.x,f.y);var x=y.x-f.x,m=y.y-f.y;return this.translate(x,m),this}},{key:"reset",value:function(){return this.matrix=new f.G9,this.transform={scale:1,rotation:0,scaleX:1,scaleY:1,skewX:0,skewY:0,flipX:!1,flipY:!1},this}},{key:"toCSS",value:function(){var t=this.getMatrix();return"matrix(".concat(t.a,",").concat(t.b,",").concat(t.c,",").concat(t.d,",").concat(t.tx,",").concat(t.ty,")")}}]),t}(),d=n(893);function g(t,i){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var e=Object.getOwnPropertySymbols(t);i&&(e=e.filter((function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable}))),n.push.apply(n,e)}return n}function v(t){for(var i=1;i<arguments.length;i++){var n=null!=arguments[i]?arguments[i]:{};i%2?g(Object(n),!0).forEach((function(i){(0,r.Z)(t,i,n[i])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):g(Object(n)).forEach((function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))}))}return t}var p=600,k=400,w={left:440,top:240,width:70,height:80};function b(){var t=s.useState("matrix(1,0,0,1,0,0)"),i=(0,o.Z)(t,2),n=i[0],e=i[1],r=s.useState({x:300,y:200}),c=(0,o.Z)(r,2),h=c[0],u=c[1];return s.useEffect((function(){var t=0,i=0,n=0,r=0,o={cx:300,cy:200,x:0,y:0,zoom:1,rotation:0,skewX:0,skewY:0,flipX:!1,flipY:!1,zoomToFit:!1},s=new m({width:p,height:k}),l=function(){e(s.toCSS()),console.log(s.getMatrix().decompose())},c=new a.NR.GUI;c.add(o,"x",-p,p,1).onChange((function(i){var n=i-t;t=i,s.translateX(n),l()})),c.add(o,"y",-k,k,1).onChange((function(t){var n=t-i;i=t,s.translateY(n),l()})),c.add(o,"zoom",.1,50,.1).onChange((function(t){s.setZoom(t,o.cx,o.cy),l()})),c.add(o,"rotation",0,360,1).onChange((function(t){s.setRotation(t,o.cx,o.cy),l()})),c.add(o,"skewX",-90,90,1).onChange((function(t){s.skewX(t-n,o.cx,o.cy),n=t,l()})),c.add(o,"skewY",-90,90,1).onChange((function(t){s.skewY(t-r,o.cx,o.cy),r=t,l()})),c.add(o,"flipX").onChange((function(){s.flipX(o.cx,o.cy),l()})),c.add(o,"flipY").onChange((function(){s.flipY(o.cx,o.cy),l()})),c.add(o,"zoomToFit").onChange((function(){s.zoomToRect(v({x:w.left,y:w.top},w)),l()}));var h=c.addFolder("transform center");h.add(o,"cx",0,p,1).onChange((function(t){u({x:o.cx,y:o.cy})})),h.add(o,"cy",0,k,1).onChange((function(t){u({x:o.cx,y:o.cy})}))}),[]),(0,d.jsxs)("div",{className:"App",children:[(0,d.jsxs)("div",{className:"viewbox",style:{position:"relative",width:p,height:k,overflow:"hidden"},children:[(0,d.jsxs)("div",{className:"content",style:{transformOrigin:"0 0",transform:n},children:[(0,d.jsx)("img",{width:p,height:k,src:l}),(0,d.jsx)("div",{style:v(v({position:"absolute"},w),{},{opacity:.3,backgroundColor:"red"})})]}),(0,d.jsx)("div",{style:{zIndex:9,position:"absolute",left:h.x-3,top:h.y-3,width:6,height:6,borderRadius:"50%",opacity:.9,background:"red"}})]}),(0,d.jsx)("div",{children:n})]})}var O=document.getElementById("root");e.s(O).render((0,d.jsx)(b,{}))}},t=>{t.O(0,[578],(()=>{return i=108,t(t.s=i);var i}));t.O()}]);